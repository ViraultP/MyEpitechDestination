{"remainingRequest":"C:\\Users\\sarah\\Documents\\MyEpitechDestination\\Frontend\\myepitechdestination-front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\sarah\\Documents\\MyEpitechDestination\\Frontend\\myepitechdestination-front\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\sarah\\Documents\\MyEpitechDestination\\frontend\\myepitechdestination-front\\src\\services\\auth.service.js","dependencies":[{"path":"C:\\Users\\sarah\\Documents\\MyEpitechDestination\\frontend\\myepitechdestination-front\\src\\services\\auth.service.js","mtime":1622203842349},{"path":"C:\\Users\\sarah\\Documents\\MyEpitechDestination\\Frontend\\myepitechdestination-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sarah\\Documents\\MyEpitechDestination\\Frontend\\myepitechdestination-front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\sarah\\Documents\\MyEpitechDestination\\Frontend\\myepitechdestination-front\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi9Vc2Vycy9zYXJhaC9Eb2N1bWVudHMvTXlFcGl0ZWNoRGVzdGluYXRpb24vZnJvbnRlbmQvbXllcGl0ZWNoZGVzdGluYXRpb24tZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJDOi9Vc2Vycy9zYXJhaC9Eb2N1bWVudHMvTXlFcGl0ZWNoRGVzdGluYXRpb24vZnJvbnRlbmQvbXllcGl0ZWNoZGVzdGluYXRpb24tZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKdmFyIEFQSV9VUkwgPSAnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaS9hdXRoLyc7Cgp2YXIgQXV0aFNlcnZpY2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEF1dGhTZXJ2aWNlKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEF1dGhTZXJ2aWNlKTsKICB9CgogIF9jcmVhdGVDbGFzcyhBdXRoU2VydmljZSwgW3sKICAgIGtleTogImxvZ2luIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2dpbih1c2VyKSB7CiAgICAgIHJldHVybiBheGlvcy5wb3N0KEFQSV9VUkwgKyAnc2lnbmluJywgewogICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLAogICAgICAgIG1vdF9kZV9wYXNzZTogdXNlci5tb3RfZGVfcGFzc2UKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5hY2Nlc3NUb2tlbikgewogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAibG9nb3V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVnaXN0ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyKHVzZXIpIHsKICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoQVBJX1VSTCArICdzaWdudXAnLCB7CiAgICAgICAgbm9tOiB1c2VyLm5vbSwKICAgICAgICBwcsOpbm9tOiB1c2VyLnByw6lub20sCiAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsCiAgICAgICAgbW90X2RlX3Bhc3NlOiB1c2VyLm1vdF9kZV9wYXNzZQogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBBdXRoU2VydmljZTsKfSgpOwoKZXhwb3J0IGRlZmF1bHQgbmV3IEF1dGhTZXJ2aWNlKCk7"},{"version":3,"sources":["C:/Users/sarah/Documents/MyEpitechDestination/frontend/myepitechdestination-front/src/services/auth.service.js"],"names":["axios","API_URL","AuthService","user","post","email","mot_de_passe","then","response","data","accessToken","localStorage","setItem","JSON","stringify","removeItem","nom","prénom"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,OAAO,GAAG,iCAAhB;;IAEMC,W;;;;;;;WACJ,eAAMC,IAAN,EAAY;AACV,aAAOH,KAAK,CACTI,IADI,CACCH,OAAO,GAAG,QADX,EACqB;AACxBI,QAAAA,KAAK,EAAEF,IAAI,CAACE,KADY;AAExBC,QAAAA,YAAY,EAAEH,IAAI,CAACG;AAFK,OADrB,EAKJC,IALI,CAKC,UAAAC,QAAQ,EAAI;AAChB,YAAIA,QAAQ,CAACC,IAAT,CAAcC,WAAlB,EAA+B;AAC7BC,UAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeN,QAAQ,CAACC,IAAxB,CAA7B;AACD;;AAED,eAAOD,QAAQ,CAACC,IAAhB;AACD,OAXI,CAAP;AAYD;;;WAED,kBAAS;AACPE,MAAAA,YAAY,CAACI,UAAb,CAAwB,MAAxB;AACD;;;WAED,kBAASZ,IAAT,EAAe;AACb,aAAOH,KAAK,CAACI,IAAN,CAAWH,OAAO,GAAG,QAArB,EAA+B;AACpCe,QAAAA,GAAG,EAAEb,IAAI,CAACa,GAD0B;AAEpCC,QAAAA,MAAM,EAAEd,IAAI,CAACc,MAFuB;AAGpCZ,QAAAA,KAAK,EAAEF,IAAI,CAACE,KAHwB;AAIpCC,QAAAA,YAAY,EAAEH,IAAI,CAACG;AAJiB,OAA/B,CAAP;AAMD;;;;;;AAGH,eAAe,IAAIJ,WAAJ,EAAf","sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:8080/api/auth/';\r\n\r\nclass AuthService {\r\n  login(user) {\r\n    return axios\r\n      .post(API_URL + 'signin', {\r\n        email: user.email,\r\n        mot_de_passe: user.mot_de_passe\r\n      })\r\n      .then(response => {\r\n        if (response.data.accessToken) {\r\n          localStorage.setItem('user', JSON.stringify(response.data));\r\n        }\r\n\r\n        return response.data;\r\n      });\r\n  }\r\n\r\n  logout() {\r\n    localStorage.removeItem('user');\r\n  }\r\n\r\n  register(user) {\r\n    return axios.post(API_URL + 'signup', {\r\n      nom: user.nom,\r\n      prénom: user.prénom,\r\n      email: user.email,\r\n      mot_de_passe: user.mot_de_passe\r\n    });\r\n  }\r\n}\r\n\r\nexport default new AuthService();"]}]}